<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Melisa 🩷</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Melisa, beni seviyor musun? 💌</h1>

    <div class="buttons" id="buttons">
      <button id="yesBtn" class="btn yes">Evet</button>
      <button id="noBtn" class="btn no">Hayır</button>
    </div>

    <p class="answer" id="answer">😳</p>
    <p class="surprise-message" id="surprise">🎉</p>
  </div>

  <!-- Kalp animasyonu -->
  <div class="hearts">
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="heart"></div>
    <div class="heart"></div>
  </div>

  <script>
    const answers = [
      "Seni çok seviyorum! 💖"
    ];

    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');
    const buttonsWrap = document.getElementById('buttons');
    const answerElem = document.getElementById('answer');
    const surpriseElem = document.getElementById('surprise');

    let yesScale = 1.0;

    function randomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function moveNoButton() {
      // buttonsWrap sınırları içinde "Hayır" butonunu kaçır
      const wrapRect = buttonsWrap.getBoundingClientRect();
      const noRect = noBtn.getBoundingClientRect();

      // Hareket alanını biraz tamponla
      const maxLeft = wrapRect.width - noRect.width;
      const maxTop  = wrapRect.height - noRect.height;

      const newLeft = Math.max(0, Math.min(maxLeft, randomInt(0, maxLeft)));
      const newTop  = Math.max(0, Math.min(maxTop,  randomInt(0, maxTop)));

      noBtn.style.left = newLeft + "px";
      noBtn.style.top  = newTop + "px";
    }

    function enlargeYesButton() {
      yesScale = Math.min(1.9, yesScale + 0.12);
      yesBtn.style.transform = `scale(${yesScale})`;
    }

    function showYesAnswer() {
      const randomAnswer = answers[Math.floor(Math.random() * answers.length)];
      answerElem.innerText = randomAnswer;
      surpriseElem.innerText = "Biliyordummm! Ben de seni seviyorum! 💞";
      surpriseElem.style.display = "block";
    }

    // Evet: normal çalışsın
    yesBtn.addEventListener('click', showYesAnswer);

    // Hayır: tıklanması zor olsun
    noBtn.addEventListener('mouseenter', () => {
      moveNoButton();
      enlargeYesButton();
    });

    noBtn.addEventListener('click', (e) => {
      e.preventDefault();
      moveNoButton();
      enlargeYesButton();
    });

    // İlk yerleşim: butonları ortada başlat, Hayır absolute olduğu için konum verelim
    window.addEventListener('load', () => {
      const wrapRect = buttonsWrap.getBoundingClientRect();
      const noRect = noBtn.getBoundingClientRect();
      noBtn.style.left = (wrapRect.width/2 + 70) + "px"; // sağ tarafa
      noBtn.style.top  = "0px";
    });
  </script>
</body>
</html>
